<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chatbot - Text Chat</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
<header>Chatbot</header>
<nav>
  <a href="/">Text Chat</a>
  <a href="/voice">Voice Chat</a>
</nav>
<main>
  <div id="chatbox"></div>
  <div id="inputArea">
    <input type="text" id="message" placeholder="Type your message here" autocomplete="off" />
    <button onclick="sendMessage()">Send</button>
  </div>
</main>
<footer>Â© 2025 Nikhil's Chatbot</footer>

<script>
const chatbox = document.getElementById("chatbox");
const messageInput = document.getElementById("message");

function appendMessage(text, sender) {
  const p = document.createElement("p");
  p.classList.add("message", sender === "user" ? "user-msg" : "bot-msg");
  p.textContent = text;
  chatbox.appendChild(p);
  chatbox.scrollTop = chatbox.scrollHeight;
}

async function sendMessage() {
  const message = messageInput.value.trim();
  if (!message) return;
  appendMessage("You: " + message, "user");
  messageInput.value = "";

  const res = await fetch("/ask", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message }),
  });
  const data = await res.json();
  appendMessage("Bot: " + data.reply, "bot");
}

messageInput.addEventListener("keydown", (e) => {
  if (e.key === "Enter") {
    sendMessage();
  }
});
</script>
</body>
</html>


